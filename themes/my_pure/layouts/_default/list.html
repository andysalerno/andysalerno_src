{{- define "content"}}
<main class="main grow noshrink row-container">
    <article>
        <header class="article-header">
            <h1 itemprop="title">{{ .Title }}</h1>
            <p class="text-muted">{{- T "total_article" (len .Pages) }}</p>
        </header>
        <div class="article-body">
            {{ range $idx,$page := .Pages }}
            {{ $thisYear := $page.Date.Format ("2006") }}
            {{- $lastElement := $idx | add -1 | index $.RegularPages }}
            {{- if or (eq $idx 0) ( ne ($lastElement.Date.Format "2006") $thisYear ) }}
            <section class="panel panel-default b-no">
                <div id="collapse{{- $thisYear }}" class="panel-collapse collapse in" role="tabpanel"
                    aria-labelledby="heading{{- $thisYear }}">
                    <div class="panel-body">
                        <div class="collection">
                            {{- if ne $idx 0 }}
                        </div>
                    </div>
                </div>
            </section>
            {{- end }}
            {{- end }}

            {{- .Scratch.Set "type" "link"}}
            {{- partial "item-post.html" . }}
            <br>
            <br>

            {{- end }}
        </div>
        </div>
        </div>
        </div>
        </section>
    </article>
</main>
{{- end }}